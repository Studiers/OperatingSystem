## 인터럽트
트랩 (Trap or Exception)은 오류 혹은 예외에 의해서 발생하는 인터럽트이다.  
소프트웨어 적으로 일어 나는 것 또한 포함한다.  

## 운영체제 연산
운영체제는 한 프로세스에서 발생한 오류, 문제는 그 프로세스내에만 영향을 미쳐야한다.  
위와 같은 것을 보장하기 위해 운영체제를 설계할 때 다음과 같은 방법을 사용 한다.

## 이중연산 모드
이 연산모드 설계방식에서는 적어도 두개 이상의 연산모드, User Mode, Kernel Mode를 필요로 합니다.  
현재 모드를 식별하기 위해 하나의 비트가 하드웨어에 추가되었다다고 한다.  
시스템 부트시 하드웨어는 커널모드이지만 사용자가 사용할 때는 사용자모드 상태로 있다가  
시스템콜을 호출하면 임시로 모드 비트를 바꾸어 커널 모드에 진입했다가 해당 루틴 처리후 사용자 모드로 돌아가게된다.

모드의 개념은 사용자 모드, 커널 모드 이 두가지 이상으로 확장될 수 있다.  
가상화를 지원하는 CPU는 가상 기계 관리자(VMM)이라는 것이 있다. 가상화 관리 소프트웨어가 제어하고 있는 지를 나타내기 위해 별도의 모드 비트를 사용하기도 한다고 한다.  
특권수준을 나타내는 모드 비트의 크기는 CPU 설계자 재량인가 보다.

### 만약 이런 모드 구분이 없다면
이런 모드 구분이 없는 운영체제가 있는데 바로 MS-DOS이다.  
MS-DOS에서는 모드 구분이 없어 사용자 프로그램이 데이터를 운영체제 부분에 덮어 기록할 수도 있고 다른 프로그램의 영역의 데이터를 덮어 씌울 수도 있다.  
최근의 운영체제들과 CPU는 이런 점을 해결하여 제공한다.

## 타이머
만약 프로그램에게 CPU를 할당해줬는 데 프로그램이 CPU를 반환하지 않고 주도권을 가지고 있다면 어떻게 될까.  
프로그램이 무한 루프에 빠지거나 시스템콜 호출에 실패하였을 경우에 대한 처리를 해주어야 한다.  

그런 목적을 달성하기 위해 **타이머**를 사용하는 것이고 타이머는 고정적인 혹은 가변적인 시간 마다 인터럽트를 일으키는 경우가 있다.  
**가변 타이머**는 고정률의 클락과 계수기로 구현한다. 클락 마다 계수기의 값을 감소 시켜 계수기가 0이 될때 인터럽트가 발생하도록 만드는 것이다.